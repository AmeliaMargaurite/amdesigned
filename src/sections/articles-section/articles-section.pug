mixin articles-section
	section.articles-section
		span#articles.section__content
			<?php if ($articles && count($articles) > 0) : ?>	
			span
				h1 Recent articles
				p Informative articles for businesses with, or wanting, a website
				<?php if (isset($filter)) : ?>
					a(href="/articles") View all articles
				<?php endif ?>
			span.articles__wrapper
				<?php foreach ($articles as $article): ?>
					<?php $webpFile = $article->hero_img_filename . '.webp'; ?>
					<?php $small = $img_path . 'large/' . $webpFile  . ' 425w' ?>
					<?php $medium = $img_path . 'medium/' . $webpFile . ' 900w' ?>
					<?php $srcset = array( $small, $medium) ?>
					<?php $srcset = implode(',', $srcset) ?>
					article.article__card(onclick="this.querySelector('a').click()")
						figure.image-w-placeholder(aria-hidden="true")
							img.placeholder-image(
								src!="<?= $img_path . 'thumbnail/' . $article->hero_img_filename ?>.jpg"
							)
							picture
								source(srcset!="<?= $srcset ?>", type="image/webp")
								img(
									src!="<?= $img_path . 'medium/' .  $article->hero_img_filename?>.jpg",
									alt!="<?= $article->hero_img_alt ?>"
								)
						span.content
							<?php $published_date = new DateTime($article->published_at)  ?>
							time.published_date!= "<?= $published_date->format('jS M y') ?>"
							h2.title: a(
								href!="/article/<?= $article->slug ?>",
								title!="Read more about <?= $article->title ?>",
								rel="bookmark"
							)!= "<?= $article->title ?>"
							p.summary!= "<?= $article->summary ?>"

				<?php endforeach ?>
				<?php elseif ($error) : ?>
				span
					h1 Whoops
					p Something went wrong, we'll get right on that. Please feel free to check back later.
				<?php else : ?>
				span
					p No articles found
					<?php endif ?>
